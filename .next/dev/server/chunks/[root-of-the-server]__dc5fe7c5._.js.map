{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/game168-/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nexport const supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL || \"\",\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || \"\"\n);\n\nexport function createServerSupabaseClient() {\n  if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.SUPABASE_SERVICE_ROLE_KEY) {\n    throw new Error(\"Missing Supabase server environment variables\");\n  }\n  return createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n}"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,WAAW,IAAA,yMAAY,EAClC,gFAAwC,IACxC,uPAA6C;AAGxC,SAAS;IACd,IAAI,iFAAyC,CAAC,QAAQ,GAAG,CAAC,yBAAyB,EAAE;QACnF,MAAM,IAAI,MAAM;IAClB;IACA,OAAO,IAAA,yMAAY,gFAAuC,QAAQ,GAAG,CAAC,yBAAyB;AACjG"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/game168-/app/api/campaigns/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { supabase, createServerSupabaseClient } from \"@/lib/supabase\";\n\nexport async function GET() {\n  const { data, error } = await supabase\n    .from(\"campaigns\")\n    .select(\"*\")\n    .order(\"id\", { ascending: false });\n\n  if (error) return NextResponse.json({ error: error.message || error }, { status: 500 });\n  return NextResponse.json(data);\n}\n\nexport async function POST(request) {\n  try {\n    const body = await request.json();\n    const server = createServerSupabaseClient();\n\n    const { data, error } = await server\n      .from(\"campaigns\")\n      .insert({\n        title: body.title,\n        image: body.image || null,\n        url: body.url || null,\n      })\n      .select();\n\n    if (error) return NextResponse.json({ error: error.message || error }, { status: 400 });\n    return NextResponse.json(data);\n  } catch (err) {\n    return NextResponse.json({ error: err.message || String(err) }, { status: 500 });\n  }\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,6HAAQ,CACnC,IAAI,CAAC,aACL,MAAM,CAAC,KACP,KAAK,CAAC,MAAM;QAAE,WAAW;IAAM;IAElC,IAAI,OAAO,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,OAAO,MAAM,OAAO,IAAI;IAAM,GAAG;QAAE,QAAQ;IAAI;IACrF,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC3B;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,SAAS,IAAA,+IAA0B;QAEzC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OAC3B,IAAI,CAAC,aACL,MAAM,CAAC;YACN,OAAO,KAAK,KAAK;YACjB,OAAO,KAAK,KAAK,IAAI;YACrB,KAAK,KAAK,GAAG,IAAI;QACnB,GACC,MAAM;QAET,IAAI,OAAO,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO,IAAI;QAAM,GAAG;YAAE,QAAQ;QAAI;QACrF,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,KAAK;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,IAAI,OAAO,IAAI,OAAO;QAAK,GAAG;YAAE,QAAQ;QAAI;IAChF;AACF"}}]
}